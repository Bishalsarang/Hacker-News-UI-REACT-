(this["webpackJsonphacker-news-ui"]=this["webpackJsonphacker-news-ui"]||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/loader.236d70a3.svg"},,function(e,t,a){e.exports=a(27)},,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(8),s=a.n(r),i=(a(16),a(1)),l=a(2),o=a(3),u=a(4),m=(a(17),function(e){return c.a.createElement("header",{className:"Header"},c.a.createElement("h1",null,e.children))}),d=function(e){return c.a.createElement("main",{className:'"Main" '.concat(e.className)},e.children)},h=function(){return c.a.createElement("footer",{className:"Footer"})},f=a(5),p=a.n(f),v=a(6),b={fetchUrl:function(){var e=Object(v.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,e.prev=1,e.next=4,fetch(t);case 4:return a=e.sent,e.abrupt("return",a.json());case 8:return e.prev=8,e.t0=e.catch(1),console.log("Unable to fetch"),e.abrupt("return",{});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},N=a(9),k=a.n(N),E=(a(19),function(e){return c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement("img",{src:k.a,alt:"Loading",style:e.style}))}),g=(a(20),function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleCommentClick=function(){n.props.setCurrentNewsId(n.state.detail)},n.fetchNewsDetail=function(){n.setState({isLoading:!0}),b.fetchUrl("".concat("https://hacker-news.firebaseio.com/v0/item/").concat(n.state.id,".json")).then((function(e){return n.setState({isLoading:!1,detail:e})}))},n.state={id:n.props.id,isLoading:!1,detail:null},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.fetchNewsDetail()}},{key:"render",value:function(){if(!this.state.detail)return c.a.createElement("li",{className:"NewsItem"},c.a.createElement(E,{style:{width:"50px",textAlign:"center"}}));var e=this.state.detail,t=e.url,a=e.title,n=e.by,r=e.kids,s=e.score;return c.a.createElement("li",{className:"NewsItem"},c.a.createElement("div",null,c.a.createElement("p",null,c.a.createElement("a",{href:t},a)),c.a.createElement("span",{className:"NewsItem__author"},c.a.createElement("i",{class:"fas fa-user"})," ",n),c.a.createElement("span",{className:"NewsItem__points"},c.a.createElement("i",{class:"fas fa-star"}),"(",s,")")),c.a.createElement("div",{className:"NewsItem__info"},c.a.createElement("button",{className:"NewsItem__comments",onClick:this.handleCommentClick},c.a.createElement("i",{class:"fas fa-comment-alt"})," (".concat(r?r.length:0,")"))))}}]),a}(n.Component)),w=(a(21),function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"Pagination"},c.a.createElement("button",{onClick:this.props.handlePrevClick},c.a.createElement("i",{class:"fas fa-chevron-circle-left fa-2x"})),c.a.createElement("h3",{className:"currentPage"},"Page: ",this.props.currentPageNumber),c.a.createElement("button",{onClick:this.props.handleNextClick},c.a.createElement("i",{class:"fas fa-chevron-circle-right fa-2x"})))}}]),a}(n.Component)),C=a(10),j=(a(22),function(e){var t=e.by,a=e.text,n=e.kids;return c.a.createElement("div",{className:"CommentItem"},c.a.createElement("div",{className:"Info"},c.a.createElement("p",{className:"author"},"@",t),c.a.createElement("blockquote",{className:"comment__text",dangerouslySetInnerHTML:{__html:a}})),n)}),y=(a(23),function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).fetchComments=Object(v.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({isLoading:!0}),n.state.kids.map((function(e){return b.fetchUrl("https://hacker-news.firebaseio.com/v0/item/".concat(e,".json")).then((function(e){n.setState({isLoading:!1,comments:[].concat(Object(C.a)(n.state.comments),[e])})}))}));case 2:case"end":return e.stop()}}),e)}))),n.state={kids:n.props.kids,comments:[],isLoading:!1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.fetchComments()}},{key:"render",value:function(){return this.state.isLoading?c.a.createElement(E,{style:{width:"80px",textAlign:"center"}}):c.a.createElement("div",{className:"CommentsList"},this.state.comments.map((function(e){var t=e.id,n=e.by,r=e.text,s=e.kids;return c.a.createElement(j,{key:t,by:n,text:r,kids:s?c.a.createElement(a,{kids:s}):null})})))}}]),a}(n.Component)),O=(a(24),function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleModalClick=function(e){e.target.className.includes("Modal")&&(n.setState({isVisible:!1}),n.props.handleModalClick())},n.state={isVisible:n.props.isVisible},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.url,n=t.title;return c.a.createElement("div",{className:"Modal ".concat(this.state.isVisible?"":"hide"),onClick:function(t){return e.handleModalClick(t)}},c.a.createElement("div",{className:"Modal__content"},c.a.createElement("div",{className:"Modal__header"},c.a.createElement("a",{href:a},c.a.createElement("h2",{className:"header"},n))),c.a.createElement("div",{className:"Modal__body"},this.props.body)))}}]),a}(n.Component)),x=(a(25),function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).fetchNews=function(){n.setState({isLoading:!0}),b.fetchUrl("https://hacker-news.firebaseio.com/v0/topstories.json").then((function(e){n.setState({newsIdList:e,isLoading:!1})}))},n.handlePageNav=function(e){n.setState({currentPageNumber:n.state.currentPageNumber+e})},n.handlePrevClick=function(){n.state.currentPageNumber>=2&&n.handlePageNav(-1)},n.setCurrentNewsId=function(e){n.setState({selectedItem:e})},n.handleNextClick=function(){50*(n.state.currentPageNumber+1)<=n.state.newsIdList.length&&n.handlePageNav(1)},n.handleModalClick=function(){n.setState({selectedItem:null})},n.state={newsIdList:[],isLoading:!1,selectedItem:null,currentPageNumber:n.props.pageNumber||1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.fetchNews()}},{key:"render",value:function(){var e=this,t=this.state,a=t.currentPageNumber,n=t.isLoading,r=t.selectedItem;return c.a.createElement("div",{className:"NewsList"},c.a.createElement(w,{handlePrevClick:this.handlePrevClick,handleNextClick:this.handleNextClick,currentPageNumber:a}),n&&c.a.createElement(E,{width:"80px",height:"80px"}),c.a.createElement("ul",{className:"NewsList__items"},this.state.newsIdList.slice(50*(a-1),50*a).map((function(t){return c.a.createElement(g,{key:t,id:t,setCurrentNewsId:e.setCurrentNewsId})}))),r?c.a.createElement(O,{body:c.a.createElement(y,{kids:r.kids}),title:r.title,url:r.url,isVisible:!0,handleModalClick:this.handleModalClick}):null)}}]),a}(n.Component)),I=(a(26),function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"App "},c.a.createElement(m,null,"Hacker News"),c.a.createElement(d,{className:"container"},c.a.createElement(x,null)),c.a.createElement(h,null))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[11,1,2]]]);
//# sourceMappingURL=main.a72306fb.chunk.js.map